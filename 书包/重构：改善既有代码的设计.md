# p1

首先，我需要检查一下，如果我将这块代码提炼到自己的一个函数里，有哪 些变量会离开原本的作用域。在此示例中，是perf、play和thisAmount这3个变 量。前两个变量会被提炼后的函数使用，但不会被修改，那么我就可以将它们以 参数方式传递进来。**我更关心那些会被修改的变量。**这里只有唯一一个 ——thisAmount，因此可以将它从函数中直接返回。我还可以将其初始化放到提 炼后的函数里。修改后的代码如下所示。